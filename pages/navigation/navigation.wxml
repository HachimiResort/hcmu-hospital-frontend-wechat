<view style="display:flex;flex-direction:column;height:100vh;">
  <view id="topbar" style="display:flex;align-items:center;gap:12rpx;padding:12rpx;border-bottom:1px solid #eee;">
    <picker mode="selector" range="{{maps}}" value="{{selectedMapIndex}}" bindchange="bindMapChange">
      <view style="padding:8rpx 16rpx;border:1px solid #ddd;border-radius:8rpx;">{{(maps[selectedMapIndex] && maps[selectedMapIndex].mapName) || '当前地图'}}</view>
    </picker>
    <picker mode="selector" range="{{roomPoints}}" value="{{selectedStartIndex}}" bindchange="bindStartChange">
      <view style="padding:8rpx 16rpx;border:1px solid #ddd;border-radius:8rpx;">{{(roomPoints[selectedStartIndex] && roomPoints[selectedStartIndex].pointName) || '起点'}}</view>
    </picker>
    <picker mode="selector" range="{{roomPoints}}" value="{{selectedEndIndex}}" bindchange="bindEndChange">
      <view style="padding:8rpx 16rpx;border:1px solid #ddd;border-radius:8rpx;">{{(roomPoints[selectedEndIndex] && roomPoints[selectedEndIndex].pointName) || '终点'}}</view>
    </picker>
    <button size="mini" bindtap="onQuery">查询</button>
  </view>
  <view style="flex:1;display:flex;justify-content:center;align-items:center;">
    <canvas canvas-id="navCanvas" style="width:{{canvasWidth}}px;height:{{canvasHeight}}px;" width="{{canvasWidth}}" height="{{canvasHeight}}" bindtap="onCanvasTap"></canvas>
  </view>
</view>
