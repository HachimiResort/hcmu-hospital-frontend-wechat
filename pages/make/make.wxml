<import src="../../component/appToast/appToast.wxml"/>
<template is="toast" data="{{ ..._toast_ }}"/>
<wxs module="filter" src="/utils/tool.wxs"></wxs>
<view class="main">
	<view class="tap">
		<view class="tapLeft"></view>
		<text>预约记录</text>
	</view>
	<view wx:if="{{orderList.length == 0}}" class="not">
		<image src="../../image/not.png"></image>
		<text>数据为空</text>
	</view>
	<view wx:else>
		<view class="block" wx:for="{{orderList}}" wx:key="index" data-id="{{item.appointmentId	}}"data-data="{{item}}" bindtap="uigo">
			<view class="block-header">
				<text class="order-no">预约编号：{{item.appointmentNo}}</text>
				<text class="order-status" wx:if="{{item.status === 1}}" style="color: #ff9800;">待支付</text>
				<text class="order-status" wx:elif="{{item.status === 2}}" style="color: #2196f3;">已预约</text>
				<text class="order-status" wx:elif="{{item.status === 3}}" style="color: #4caf50;">已签到</text>
				<text class="order-status" wx:elif="{{item.status === 4}}" style="color: #9e9e9e;">已就诊</text>
				<text class="order-status" wx:elif="{{item.status === 5}}" style="color: #607d8b;">已取消</text>
				<text class="order-status" wx:elif="{{item.status === 6}}" style="color: #f44336;">爽约</text>
				<text class="order-status" wx:else style="color: #f44336;">看见这个信息请联系管理员</text>
			</view>
			<view class="block-content">
				<view class="info-row">
					<text class="info-label">就诊时间：</text>
					<text class="info-value">{{item.scheduleDate+" "}} 
						<text wx:if="{{item.slotPeriod === 1}}">8:00-8:30</text>
						<text wx:elif="{{item.slotPeriod === 2}}">8:30-9:00</text>
						<text wx:elif="{{item.slotPeriod === 3}}">9:00-9:30</text>
						<text wx:elif="{{item.slotPeriod === 4}}">9:30-10:00</text>
						<text wx:elif="{{item.slotPeriod === 5}}">10:00-10:30</text>
						<text wx:elif="{{item.slotPeriod === 6}}">10:30-11:00</text>
						<text wx:elif="{{item.slotPeriod === 7}}">13:30-14:00</text>
						<text wx:elif="{{item.slotPeriod === 8}}">14:00-14:30</text>
						<text wx:elif="{{item.slotPeriod === 9}}">14:30-15:00</text>
						<text wx:elif="{{item.slotPeriod === 10}}">15:00-15:30</text>
						<text wx:elif="{{item.slotPeriod === 11}}">15:30-16:00</text>
						<text wx:elif="{{item.slotPeriod === 12}}">16:00-16:30</text>
						<text wx:else>{{item.slotPeriod}}</text>
					</text>
				</view>
				<view class="info-row">
					<text class="info-label">就诊科室：</text>
					<text class="info-value">{{item.departmentName}}</text>
				</view>
				<view class="info-row">
					<text class="info-label">原始费用：</text>
					<text class="info-value">¥{{item.originalFee}}</text>
				</view>
				<view class="info-row">
					<text class="info-label">实际费用：</text>
					<text class="info-value">¥{{item.actualFee}}</text>
				</view>
				<view class="info-row" wx:if="{{item.status !== 1&&item.status !== 5}}">
					<text class="info-label">支付时间：</text>
					<text class="info-value">{{filter.formatDate(item.paymentTime)}}</text>
				</view>
				<view class="info-row" wx:if="{{item.status === 5}}">
					<text class="info-label">取消时间：</text>
					<text class="info-value">{{filter.formatDate(item.cancellationTime)}}</text>
				</view>
				<view class="info-row">
					<text class="info-label">创建时间：</text>
					<text class="info-value">{{filter.formatDate(item.createTime)}}</text>
				</view>
			</view>
		</view>
	</view>
</view>